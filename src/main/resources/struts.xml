<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <constant name="struts.objectFactory" value="spring" />
    <constant name="struts.devMode" value="true" />
    <constant name="struts.multipart.saveDir" value="/tempUpload"/>

    <package name="mm" namespace="/" extends="json-default">
    <!-- 
    	<result-types>
    		<result-type name="json" class="org.apache.struts2.json.JSONResult"/>
		</result-types>
	 -->	
		<interceptors>
            	<interceptor name="json" class="org.apache.struts2.json.JSONInterceptor"/>
        </interceptors>

        <action name="accept" method="accept" class="candidateAction">
            <result name="input">pages/accept.jsp</result>
            <result name="success">pages/register.jsp</result>
        </action>

        <action name="register" method="register" class="candidateAction">
            <result name="input">pages/register.jsp</result>
            <result name="success">pages/registerResult.jsp</result>
        </action>
        <action name="rank" method="rank" class="rankAction">
            <result name="input">pages/rank.jsp</result>
            <result name="rankResult">pages/rankResult.jsp</result>
        </action>
        <action name="vote" method="vote" class="rankAction">
        <!-- 
        	<interceptor-ref name="defaultStack"/> 
        	<interceptor-ref name="json"/>
         -->
            <result name="vote" type="json">
            	<param name="root">votedCandidate</param>
            </result>
        </action>
    </package>
</struts>
